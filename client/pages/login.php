<?php include "../layouts/head.php" ?>
<section id="registration">
    <svg width="138" height="194" viewBox="0 0 138 194" fill="none" xmlns="http://www.w3.org/2000/svg" class="firstSVG">
        <g clip-path="url(#clip0_24_231)">
            <path opacity="0.6" d="M56.3369 5.88718L8.92825 53.213C1.09081 61.0367 1.09081 73.7215 8.92825 81.5452L56.337 128.871C64.1744 136.695 76.8814 136.695 84.7188 128.871L132.128 81.5452C139.965 73.7215 139.965 61.0367 132.128 53.213L84.7188 5.88718C76.8814 -1.93655 64.1744 -1.93655 56.3369 5.88718Z" fill="#6CEEC7" />
            <g opacity="0.9">
                <path opacity="0.8" d="M44.664 150.385C43.4989 150.386 42.3452 150.156 41.2692 149.71C40.1933 149.264 39.2165 148.609 38.395 147.784L20.6056 129.864C19.772 129.049 19.1116 128.075 18.6639 127C18.2163 125.924 17.9905 124.77 18.0003 123.605C18.0206 121.285 18.9567 119.065 20.6056 117.429L38.5578 99.5079C40.2466 97.8982 42.4918 97 44.8268 97C47.1618 97 49.4071 97.8982 51.0959 99.5079L68.8853 117.429C69.7124 118.248 70.3688 119.223 70.8168 120.297C71.2647 121.371 71.4953 122.523 71.4953 123.687C71.4953 124.85 71.2647 126.002 70.8168 127.076C70.3688 128.15 69.7124 129.125 68.8853 129.945L50.933 147.866C49.2605 149.502 47.0056 150.408 44.664 150.385ZM44.664 99.3453C43.8296 99.3372 43.0023 99.4987 42.2324 99.8201C41.4626 100.141 40.7663 100.616 40.1861 101.215L22.1932 119.135C21.0197 120.328 20.3623 121.934 20.3623 123.605C20.3623 125.277 21.0197 126.883 22.1932 128.076L40.1861 145.874C41.3911 147.027 42.9953 147.67 44.664 147.67C46.3327 147.67 47.937 147.027 49.1419 145.874L67.0941 127.954C67.6849 127.368 68.1538 126.672 68.4737 125.905C68.7937 125.137 68.9585 124.315 68.9585 123.484C68.9585 122.653 68.7937 121.83 68.4737 121.063C68.1538 120.295 67.6849 119.599 67.0941 119.014L49.1012 101.174C48.5195 100.591 47.8279 100.13 47.0662 99.8158C46.3045 99.5019 45.488 99.342 44.664 99.3453V99.3453Z" fill="#6CEEC7" />
            </g>
        </g>
        <defs>
            <clippath id="clip0_24_231">
                <rect width="138" height="194" fill="white" />
            </clippath>
        </defs>
    </svg>
    <svg width="220" height="174" viewBox="0 0 220 174" fill="none" xmlns="http://www.w3.org/2000/svg" class="secondSVG">
        <g clip-path="url(#clip0_24_228)">
            <path d="M147.34 17.5786L118.594 46.2734C113.848 51.0112 113.848 58.6928 118.594 63.4306L147.34 92.1254C152.086 96.8632 159.781 96.8632 164.528 92.1254L193.274 63.4306C198.02 58.6928 198.02 51.0112 193.274 46.2734L164.528 17.5786C159.781 12.8408 152.086 12.8408 147.34 17.5786Z" fill="#6CEEC7" />
            <path opacity="0.4" d="M68.8179 7.59042L7.60357 68.6958C-2.52353 78.8049 -2.52352 95.195 7.60358 105.304L68.8179 166.409C78.945 176.519 95.3643 176.519 105.491 166.409L166.706 105.304C176.833 95.195 176.833 78.8049 166.706 68.6958L105.491 7.59041C95.3643 -2.51866 78.945 -2.51865 68.8179 7.59042Z" fill="#6CEEC7" />
        </g>
        <defs>
            <clippath id="clip0_24_228">
                <rect width="220" height="174" fill="white" />
            </clippath>
        </defs>
    </svg>
    <svg width="186" height="186" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg" class="thirdSVG">
        <g clip-path="url(#clip0_24_224)">
            <path opacity="0.6" d="M73.4475 8.08916L8.10707 73.4296C-2.69667 84.2334 -2.69667 101.75 8.10707 112.553L73.4475 177.894C84.2512 188.698 101.768 188.698 112.571 177.894L177.912 112.553C188.716 101.75 188.715 84.2333 177.912 73.4296L112.571 8.08916C101.768 -2.71459 84.2513 -2.71459 73.4475 8.08916Z" fill="#6CEEC7" />
            <g opacity="0.8">
                <path opacity="0.8" d="M39.8681 173.926C38.7058 173.931 37.5541 173.705 36.4799 173.261C35.4058 172.818 34.4306 172.165 33.6112 171.34L14.5562 152.285C13.7338 151.464 13.0813 150.489 12.6362 149.415C12.191 148.341 11.9619 147.191 11.9619 146.028C11.9619 144.866 12.191 143.715 12.6362 142.642C13.0813 141.568 13.7338 140.593 14.5562 139.771L33.6112 120.716C34.4324 119.894 35.4078 119.242 36.4814 118.796C37.555 118.351 38.7058 118.122 39.8681 118.122C41.0303 118.122 42.1812 118.351 43.2548 118.796C44.3284 119.242 45.3037 119.894 46.125 120.716L65.18 139.771C66.0024 140.593 66.6548 141.568 67.1 142.642C67.5451 143.715 67.7743 144.866 67.7743 146.028C67.7743 147.191 67.5451 148.341 67.1 149.415C66.6548 150.489 66.0024 151.464 65.18 152.285L46.125 171.34C45.3056 172.165 44.3304 172.818 43.2562 173.261C42.1821 173.705 41.0303 173.931 39.8681 173.926V173.926ZM39.8681 119.63C38.9087 119.624 37.9575 119.807 37.0698 120.171C36.1821 120.535 35.3755 121.072 34.6971 121.751L15.6421 140.806C14.2716 142.178 13.5019 144.037 13.5019 145.977C13.5019 147.916 14.2716 149.776 15.6421 151.148L34.6971 170.203C36.069 171.573 37.9289 172.343 39.8681 172.343C41.8072 172.343 43.6671 171.573 45.039 170.203L64.0941 151.148C65.4645 149.776 66.2343 147.916 66.2343 145.977C66.2343 144.037 65.4645 142.178 64.0941 140.806L45.039 121.751C44.3564 121.081 43.548 120.554 42.6604 120.199C41.7729 119.844 40.8239 119.669 39.8681 119.682V119.63Z" fill="#6CEEC7" />
            </g>
        </g>
        <defs>
            <clippath id="clip0_24_224">
                <rect width="186" height="186" fill="white" />
            </clippath>
        </defs>
    </svg>
    <form action="../../app/login.php" method="post" id="registrationForm" class="loginFORM">
        <div class="container-fluid">
            <h1 class="formHeading">
                <span class="greenText">Sign Up</span> and find the best place to rest while traveling
            </h1>
            <div class="row">
                <div class="col-md-6" data-aos="fade-up" data-aos-duration="3000">
                    <input type="text" class="formField" placeholder="Email" id="email" name="email">
                    <small></small>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="formIcon">
                        <path d="M19 4H5C4.20435 4 3.44129 4.31607 2.87868 4.87868C2.31607 5.44129 2 6.20435 2 7V17C2 17.7956 2.31607 18.5587 2.87868 19.1213C3.44129 19.6839 4.20435 20 5 20H12H19C19.7956 20 20.5587 19.6839 21.1213 19.1213C21.6839 18.5587 22 17.7956 22 17V7C22 6.20435 21.6839 5.44129 21.1213 4.87868C20.5587 4.31607 19.7956 4 19 4ZM18.59 6L12.71 11.88C12.617 11.9737 12.5064 12.0481 12.3846 12.0989C12.2627 12.1497 12.132 12.1758 12 12.1758C11.868 12.1758 11.7373 12.1497 11.6154 12.0989C11.4936 12.0481 11.383 11.9737 11.29 11.88L5.41 6H18.59ZM20 17C20 17.2652 19.8946 17.5196 19.7071 17.7071C19.5196 17.8946 19.2652 18 19 18H5C4.73478 18 4.48043 17.8946 4.29289 17.7071C4.10536 17.5196 4 17.2652 4 17V7.41L9.88 13.29C10.4425 13.8518 11.205 14.1674 12 14.1674C12.795 14.1674 13.5575 13.8518 14.12 13.29L20 7.41V17Z" fill="#67D9B7" />
                    </svg>
                </div>
                <div class="col-md-6" data-aos="fade-up" data-aos-duration="3000">
                    <input type="password" class="formField" placeholder="Password" id="password" name="password">
                    <small></small>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="formIcon">
                        <path d="M12 13C11.6955 12.9964 11.3973 13.0862 11.1454 13.2573C10.8936 13.4284 10.7001 13.6725 10.5912 13.9568C10.4823 14.2411 10.4631 14.552 10.5361 14.8476C10.6092 15.1431 10.7711 15.4092 11 15.61V17C11 17.2652 11.1054 17.5196 11.2929 17.7071C11.4804 17.8946 11.7348 18 12 18C12.2652 18 12.5196 17.8946 12.7071 17.7071C12.8946 17.5196 13 17.2652 13 17V15.61C13.2289 15.4092 13.3908 15.1431 13.4639 14.8476C13.5369 14.552 13.5177 14.2411 13.4088 13.9568C13.2999 13.6725 13.1064 13.4284 12.8546 13.2573C12.6027 13.0862 12.3045 12.9964 12 13ZM17 9V7C17 5.67392 16.4732 4.40215 15.5355 3.46447C14.5979 2.52678 13.3261 2 12 2C10.6739 2 9.40215 2.52678 8.46447 3.46447C7.52678 4.40215 7 5.67392 7 7V9C6.20435 9 5.44129 9.31607 4.87868 9.87868C4.31607 10.4413 4 11.2044 4 12V19C4 19.7956 4.31607 20.5587 4.87868 21.1213C5.44129 21.6839 6.20435 22 7 22H17C17.7956 22 18.5587 21.6839 19.1213 21.1213C19.6839 20.5587 20 19.7956 20 19V12C20 11.2044 19.6839 10.4413 19.1213 9.87868C18.5587 9.31607 17.7956 9 17 9ZM9 7C9 6.20435 9.31607 5.44129 9.87868 4.87868C10.4413 4.31607 11.2044 4 12 4C12.7956 4 13.5587 4.31607 14.1213 4.87868C14.6839 5.44129 15 6.20435 15 7V9H9V7ZM18 19C18 19.2652 17.8946 19.5196 17.7071 19.7071C17.5196 19.8946 17.2652 20 17 20H7C6.73478 20 6.48043 19.8946 6.29289 19.7071C6.10536 19.5196 6 19.2652 6 19V12C6 11.7348 6.10536 11.4804 6.29289 11.2929C6.48043 11.1054 6.73478 11 7 11H17C17.2652 11 17.5196 11.1054 17.7071 11.2929C17.8946 11.4804 18 11.7348 18 12V19Z" fill="#67D9B7" />
                    </svg>
                </div>
                <div class="col-md-6">
                    <button type="submit" class="signUpBtn">Sign Up</button>
                </div>
            </div>
            <?= @$answer ?>
        </div>
    </form>

    <div class="logIn">
        <p>If you do not have an account, <a href="registration.php">Sign up</a></p>
    </div>
</section>

<script src="../../js/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
<script src="../../js/aos.js"></script>
<script>
    function menuToggle() {
        const toggleMenu = document.querySelector(".menu");
        toggleMenu.classList.toggle("active");
    }
</script>
<script>
    const emailEl = document.querySelector("#email");
    const passwordEl = document.querySelector("#password");
    document.querySelector(".loginFORM").addEventListener("submit", function(e) {
        e.preventDefault();

        // validate forms
        let isEmailValid = checkEmail(),
            isPasswordValid = checkPassword();

        let isFormValid = isEmailValid && isPasswordValid;

        if (isFormValid) {
            console.log("SALOM");
            document.querySelector(".loginFORM").submit();
        }
    });

    const checkEmail = () => {
        let valid = false;
        const email = emailEl.value.trim();
        if (!isRequired(email)) {
            showError(emailEl, "Email cannot be blank.");
        } else if (!isEmailValid(email)) {
            showError(emailEl, "Email is not valid.");
        } else {
            showSuccess(emailEl);
            valid = true;
        }
        return valid;
    };

    const checkPassword = () => {
        let valid = false;

        const password = passwordEl.value.trim();

        if (!isRequired(password)) {
            showError(passwordEl, "Password cannot be blank.");
        } else if (!isPasswordSecure(password)) {
            showError(
                passwordEl,
                "Password must has at least 8 characters that include at least 1 lowercase character, 1 uppercase characters, 1 number, and 1 special character in (!@#$%^&*)"
            );
        } else {
            showSuccess(passwordEl);
            valid = true;
        }

        return valid;
    };

    const isEmailValid = (email) => {
        const re =
            /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
    };
    const isPasswordSecure = (password) => {
        const re = new RegExp(
            "^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"
        );
        return re.test(password);
    };

    const isRequired = (value) => (value === "" ? false : true);

    const showError = (input, message) => {
        const formField = input.parentElement;

        formField.classList.remove("success");
        formField.classList.add("error");

        const error = formField.querySelector("small");
        error.textContent = message;
        setTimeout(() => {
            formField.classList.remove("error");
            error.textContent = "";
        }, 4000);
    };

    const showSuccess = (input) => {
        const formField = input.parentElement;

        formField.classList.remove("error");

        const error = formField.querySelector("small");
        error.textContent = "";
    };

    $("body")
        .find(".col-md-6")
        .each(function() {
            let formField = $(this).find(".formField");
            let formElement = formField.parent(".col-md-6");
            let formFieldPlaceholder = formField.attr("placeholder");
            formField.before(
                `<label class="form-label">${formFieldPlaceholder}</label>`
            );
            formField.focus(function() {
                formElement.addClass("has-val");
            });
            formField.blur(function() {
                $(this).val() != "" ?
                    formElement.addClass("has-val") :
                    formElement.removeClass("has-val");
            });
        });


    AOS.init();
</script>
</body>

</html>